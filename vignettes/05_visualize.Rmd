---
title: "05. Visualize MMs or AMCEs"
output: rmarkdown::html_vignette
description: >
  How to visualze the marginal means (MMs) or average marginal component effects (AMCEs)
vignette: >
  %\VignetteIndexEntry{05. Visualize MMs or AMCEs}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

The `projoint` package features a set of tools for producing publication-ready figures from conjoint analyses.

### Read and wrangle data with the flipped repeated tasks, then estimate MMs and AMCEs.

```{r}
library(projoint)

outcomes <- paste0("choice", seq(from = 1, to = 8, by = 1))
outcomes <- c(outcomes, "choice1_repeated_flipped")
out1 <- reshape_projoint(.dataframe = exampleData1, 
                         .idvar = "ResponseId", 
                         .outcomes = outcomes,
                         .outcomes_ids = c("A", "B"),
                         .alphabet = "K", 
                         .repeated = TRUE,
                         .flipped = TRUE)

mm   <- projoint(out1) 
amce <- projoint(out1, .estimand = "amce")

```


### Visualize MMs

By default, most researchers should prefer to view the corrected estimates of either MMs or AMCEs. Researchers can, however, choose to instead visualize the uncorrected estimates, or to view both together.

```{r, fig.height=8, fig.width=8}
plot_projoint(mm)
plot_projoint(mm, .estimates = "uncorrected")
plot_projoint(mm, .estimates = "both")
```

```{r, fig.height=8, fig.width=8}
plot_projoint(amce, .estimand = "amce")
plot_projoint(amce, .estimand = "amce", .estimates = "uncorrected")
plot_projoint(amce, .estimand = "amce", .estimates = "both")
```

### Visualize subgroup differences

A key quantity of interest in conjoint tasks is whether estimates (MMs or AMCEs) differ across subpopulations. These subgroup comparisons are especially susceptible to IRR-induced measurement error bias.
