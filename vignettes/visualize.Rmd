---
title: "Visualize Your Estimates"
output: rmarkdown::html_vignette
description: >
  How to visualize the marginal means (MMs) or average marginal component effects (AMCEs).
vignette: >
  %\VignetteIndexEntry{Visualize Your Estimates}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include=FALSE}
library(projoint)
library(ggplot2)
```

#@ üé® Visualize MMs or AMCEs

The **projoint** package provides ready-to-publish plotting tools for conjoint analysis results.

---

#### üìà Profile-Level Analysis

<details>
<summary><b>Estimate MMs and AMCEs</b></summary>

```{r}
# Estimate profile-level MMs and AMCEs
mm   <- projoint(out1_arranged, .structure = "profile_level") 
amce <- projoint(out1_arranged, .structure = "profile_level", .estimand = "amce")
```
</details>

<details>
<summary><b>Visualize MMs and AMCEs</b></summary>

```{r, fig.height=8, fig.width=8}
# Plotting profile-level MMs
plot(mm)
plot(mm, .estimates = "uncorrected")
plot(mm, .estimates = "both")

# Plotting profile-level AMCEs
plot(amce)
plot(amce, .estimates = "uncorrected")
plot(amce, .estimates = "both")
```

</details>

---

### ‚öñÔ∏è Choice-Level Analysis

<details>
<summary><b>Estimate choice-level MMs</b></summary>

Specify your quantity of interest:

```{r}
qoi_mm <- set_qoi(
  .structure = "choice_level", 
  .att_choose = "att1", 
  .lev_choose = "level1", 
  .att_notchoose = "att1", 
  .lev_notchoose = "level3"
)
```

Estimate choice-level MMs:

```{r, fig.height=4, fig.width=8}
choice_mm <- projoint(
  .data = out1_arranged, 
  .qoi = qoi_mm, 
  .ignore_position = TRUE
)

print(choice_mm)
summary(choice_mm)
plot(choice_mm)
```

</details>

<details>
<summary><b>Polish your choice-level plots</b></summary>

```{r, fig.height=4, fig.width=8}
plot(choice_mm,
     .labels = c("15% of pre-tax income", "30% of pre-tax income")) +
  labs(y = "Marginal mean",
       x = "Housing Cost") +
  coord_cartesian(ylim = c(0, 1)) +
  geom_hline(yintercept = 0.5, linetype = "dashed", color = "darkgray")
```

</details>

<span style="color:DarkRed"><b>Note:</b></span> The current version of **projoint** supports plotting choice-level MMs only.  
Support for **choice-level AMCEs** will be available in future updates!

---

## üåü That's It!

You are now ready to create clean, informative plots for both profile-level and choice-level conjoint results!

‚û°Ô∏è Continue to explore more advanced visualization options in the [function reference](../reference/index.html).

---