---
title: "Visualize Your Estimates"
output: rmarkdown::html_vignette
description: >
  How to visualize the marginal means (MMs) or average marginal component effects (AMCEs).
vignette: >
  %\VignetteIndexEntry{Visualize Your Estimates}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r fig-setup, include=FALSE}
# Global default settings for all figures
knitr::opts_chunk$set(
  fig.width = 7,
  fig.height = 5,
  fig.align = "center",
  dpi = 300  # Optional: high-resolution plots
)

# Helper functions for special figure sizes
narrow_fig <- function() list(fig.width = 5, fig.height = 4)
wide_fig <- function() list(fig.width = 8, fig.height = 5)
tall_fig <- function() list(fig.width = 6, fig.height = 7)
```

```{r, echo=FALSE}
library(projoint)
library(ggplot2)
```

## üé® Visualize MMs or AMCEs

The **projoint** package provides ready-to-publish plotting tools for conjoint analysis results.

---

### ‚öñÔ∏è Choice-Level Analysis

<details>
<summary><b>Estimate</b></summary>

- Specify your quantity of interest:
```{r}
qoi_mm <- set_qoi(
  .structure = "choice_level", # default
  .att_choose = "att1", 
  .lev_choose = "level1", 
  .att_notchoose = "att1", 
  .lev_notchoose = "level3"
)
```

- Estimate
```{r}
choice_mm <- projoint(
  .data = out1_arranged, 
  .qoi = qoi_mm, 
  .ignore_position = TRUE
)
```
</details>

<details>
<summary><b>Visualize (Levels) </b></summary>

```{r}
plot(choice_mm)
```

You can polish it using ggplot codes:
```{r}
plot(choice_mm,
     .labels = c("15% of pre-tax income", "30% of pre-tax income")) +
  labs(y = "Marginal mean",
       x = "Housing Cost") +
  coord_cartesian(ylim = c(0, 1)) +
  geom_hline(yintercept = 0.5, linetype = "dashed", color = "darkgray")
```

</details>

<details>
<summary><b>Visualize (Differences)</b></summary>

```{r}
plot(choice_mm, .type = "pointrange")
```
</details>

<span style="color:DarkRed"><b>Note:</b></span> The current version of **projoint** supports plotting choice-level MMs only.  
Support for **choice-level AMCEs** will be available in future updates!

### üìà Profile-Level Analysis

<details>
<summary><b>Estimate</b></summary>

```{r}
mm   <- projoint(out1_arranged, .structure = "profile_level") 
amce <- projoint(out1_arranged, .structure = "profile_level", .estimand = "amce")
```

</details>

<details>
<summary><b>Visualize</b></summary>

- Marginal Means
```{r}
plot(mm)
plot(mm, .estimates = "uncorrected")
plot(mm, .estimates = "both")
```
- AMCEs
```{r}
plot(amce)
plot(amce, .estimates = "uncorrected")
plot(amce, .estimates = "both")
```

</details>

---

## üåü What's Next?

Now that you can visualize your results, you‚Äôre ready to explore differences across subgroups and other additional analyses!

‚û°Ô∏è **Continue to:** [Explore Additional Analyses](explore.html)  
‚¨ÖÔ∏è **Back to:** [Analyze Your Conjoint Data](analyze.html)  
üè† **Home:** [Home](index.html)



---